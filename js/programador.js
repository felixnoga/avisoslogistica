!function(a){function o(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return a[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var e={};o.m=a,o.c=e,o.i=function(a){return a},o.d=function(a,e,t){o.o(a,e)||Object.defineProperty(a,e,{configurable:!1,enumerable:!0,get:t})},o.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(e,"a",e),e},o.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},o.p="",o(o.s=3)}({3:function(a,o){$(document).ready(function(){function a(a){$.ajax({method:"POST",url:"programador.php",data:{id:a,borrarprograma:!0}}).done(function(){$(".resultados").load("programador.php",{todos:"true"})})}function o(a,o,e){$.ajax({method:"POST",url:"programador.php",data:{id:a,quitarsuministro:!0,parte:o,eliminarbuffer:e}}).done(function(a){"si"===a.error||($(".resultados").load("programador.php",{todos:"true"}),$(".suministrados").load("programador.php",{suministradosProgramador:!0}))})}function e(){$input=$("input#nameplate-programador"),$select=$('select[name="etapa-programador"]'),$radio=$("input:radio"),$checkTodas=$("input#add_todas"),""===$input.val()?$input.parent().addClass("has-error"):$input.parent().hasClass("has-error")&&$input.parent().removeClass("has-error"),""!==$select.val()||$checkTodas.is(":checked")?$(".error-etapa-vacia")&&$(".error-etapa-vacia").remove():0===$(".error-etapa-vacia").length&&$(".opciones").append('<span class="glyphicon glyphicon-exclamation-sign error-etapa-vacia" aria-hidden="true"></span>'),$radio.is(":checked")?$(".error-tipo-vacio")&&$(".error-tipo-vacio").remove():0===$(".error-tipo-vacio").length&&$(".seleccion-motor").append('<br/><span class="glyphicon glyphicon-exclamation-sign error-tipo-vacio" aria-hidden="true"></span>'),(""!==$select.val()||$checkTodas.is(":checked"))&&""!==$input.val()&&$('input[type="radio"]:checked').length>0&&($checkTodas.is(":checked")?($("#nameplatetodas").length&&$("#nameplatetodas").remove(),$("#dialogtodas .bg-info").before('<p id="nameplatetodas">NAMEPLATE: '+$input.val()+"<p/>"),$("#dialogtodas").dialog("open")):t())}function t(){$.ajax({method:"POST",url:"programador.php",data:$("form").serialize()}).done(function(a){$(".dialog-programador").trigger("reset"),$('select[name="etapa-programador"]').is(":visible")||$('select[name="etapa-programador"]').fadeIn(),"existe"===a.error?toastr.warning("El juego que intentas añadir ya existe!"):(toastr.success("Disco y álabes añadidos correctamente!"),$(".resultados").html(a))})}function i(){var a=/^D/i,o=/^M/i,e=/^H/i,t=/^X/i,i=/^Y/i,r=/^U/i,n=/^N/i,s=$("input#nameplate-programador"),d=$("input#nameplate-programador").val(),l="";a.test(d)?/^D8/i.test(d)?(l=d.replace(/^D8/i,"DH").toUpperCase(),s.val(l),$('input[value="1"]').prop("checked",!0)):/^DE/i.test(d)?(l=d.replace(/^DE/i,"DH").toUpperCase(),s.val(l),$('input[value="1"]').prop("checked",!0)):/^D[^H8]/i.test(d)?(l=d.replace(/^D/i,"D8").toUpperCase(),s.val(l),$('input[value="1"]').prop("checked",!0)):/^DH/i.test(d)&&(s.val(d.toUpperCase()),$('input[value="1"]').prop("checked",!0)):o.test(d)?/^M8/i.test(d)?(l=d.replace(/^M8/i,"MG").toUpperCase(),s.val(l),$('input[value="3"]').prop("checked",!0)):/^M[^G8]/i.test(d)?(l=d.replace(/M/i,"MG").toUpperCase(),s.val(l),$('input[value="3"]').prop("checked",!0)):/^MG/i.test(d)?(s.val(d.toUpperCase()),$('input[value="3"]').prop("checked",!0)):/^N/i.test(d)&&(s.val(d.toUpperCase()),$('input[value="3"]').prop("checked",!0)):e.test(d)?/^H8/i.test(d)?(l=d.replace(/^H8/i,"HH").toUpperCase(),s.val(l),$('input[value="2"]').prop("checked",!0)):/^H[^H]/i.test(d)?(l=d.replace(/^H/i,"HH").toUpperCase(),s.val(l),$('input[value="2"]').prop("checked",!0)):/^HH/i.test(d)&&(s.val(d.toUpperCase()),$('input[value="2"]').prop("checked",!0)):r.test(d)?/^U8/i.test(d)?(l=d.replace(/^U8/i,"UG").toUpperCase(),s.val(l),$('input[value="6"]').prop("checked",!0)):/^U[^G]/i.test(d)&&(l=d.replace(/^U/i,"UG").toUpperCase(),s.val(l),$('input[value="6"]').prop("checked",!0)):n.test(d)?/^N8/i.test(d)?(l=d.replace(/^N8/i,"NG").toUpperCase(),s.val(l),$('input[value="5"]').prop("checked",!0)):/^N[^G]/i.test(d)?(l=d.replace(/^N/i,"NG").toUpperCase(),s.val(l),$('input[value="5"]').prop("checked",!0)):(l=d.toUpperCase(),s.val(l),$('input[value="5"]').prop("checked",!0)):t.test(d)?/^X[^8G]/i.test(d)?(l=d.replace(/^X/i,"XG").toUpperCase(),s.val(l),$('input[value="4"]').prop("checked",!0)):/^X8/i.test(d)?(l=d.replace(/^X8/i,"XG").toUpperCase(),s.val(l),$('input[value="4"]').prop("checked",!0)):/^XG/i.test(d)&&(s.val(d.toUpperCase()),$('input[value="4"]').prop("checked",!0)):i.test(d)?/^Y[^8HG]/i.test(d)?(l=d.replace(/^Y/i,"YH").toUpperCase(),s.val(l),$('input[value="8"]').prop("checked",!0)):/^YG/i.test(d)?(l=d.replace(/^YG/i,"YH").toUpperCase(),s.val(l),$('input[value="8"]').prop("checked",!0)):/^Y8/i.test(d)?(l=d.replace(/^Y8/i,"YH").toUpperCase(),s.val(l),$('input[value="8"]').prop("checked",!0)):/^YH/i.test(d)&&(s.val(d.toUpperCase()),$('input[value="8"]').prop("checked",!0)):(s.val(d.toUpperCase()),$("input:radio").prop("checked",!1))}function r(){var a=$('select[name="etapa-programador"]');$("#add_todas").is(":checked")?(a.prop("disabled",!0),a.fadeOut()):(a.prop("disabled",!1),a.fadeIn())}toastr.options.progressBar=!0,setInterval(function(){location.reload()},3e5),$(".resultados").load("programador.php",{todos:"true"}),$(".programador-tipos").load("programador.php",{programador_tipos_motor:"pedir"}),$(".suministrados").load("programador.php",{suministradosProgramador:!0}),$(".fechas").load("programador.php",{fechasfaltantes:!0}),$(".add-part").tooltip(),$("body").on("click",".enviar-programador",e),$("body").on("click","#add_todas",r),$("body").on("click","img.suministrado",function(a){a.stopPropagation();var o=$(this).closest("div.row").attr("id"),e=$(this).siblings("h5").text(),t=$(this).siblings("h6").text();$("#quitarsuministro").data({id:o,nameplate:e,parte:t}),$("#quitarsuministro").find("p.quitarsuministro").length&&$("p.quitarsuministro").remove(),$("#quitarsuministro").prepend('<p class="quitarsuministro">'+t+" "+e+"</p>").dialog("open")}),$("button.refresh-programador").on("click",function(){location.reload(!0)}),$("button.home-programador").on("click",function(){location.href="index.html"}),$("body").on("keyup",".dialog-programador",function(a){13===a.which&&e()}),$("body").on("keyup","#nameplate-programador",i),$("body").on("click","button.eliminar-programa",function(){var a=$(this).closest("div.row").attr("id"),o=$(this).parent().parent().find(".alabe h5").text(),e=$(this).parent().parent().find(".alabe h6").text().substring(7,10);$(this).closest("div.row").find("img.suministrado").length?$("#yasuministrado").data({id:a,nameplate:o,etapa:e}).dialog("open"):$("#borrarprograma").find(".etapaborrar").remove().end().prepend('<p class="etapaborrar">'+o+" "+e+"</p>").data("id",a).dialog("open")}),$("#borrarprograma").dialog({title:"Borrar juego",autoOpen:!1,modal:!0,minWidth:400,buttons:{ELIMINAR:function(){a($(this).data("id")),$(this).dialog("close")},CANCELAR:function(){$(this).dialog("close")}}}),$(".resultados").sortable({scrollSensitivity:50,update:function(a,o){var e=$(this).sortable("toArray");$.ajax({method:"POST",data:{items:e},url:"programador.php"}).done(function(a){})}});var n=$("#nostockalabes"),s=$("#noavailablealabes"),d=$("#noavailablenostockalabes");$("#nostockalabes").dialog({title:"Sin stock de álabes",autoOpen:!1,minWidth:500,modal:!0}),$("#noavailablealabes").dialog({title:"Alabes no disponibles",autoOpen:!1,minWidth:500,modal:!0}),$("#noavailablenostockalabes").dialog({title:"Alabes no disponibles o sin stock",autoOpen:!1,minWidth:500,modal:!0}),$("body").on("click",".alabe",function(){if($(this).find(".nostock").length&&!$(this).find(".noavailable").length){var a=$(this).parent().attr("id"),o=$(this).find("h5").text();s.find(".nameplate-alabes").length>0&&$(".nameplate-alabes").remove(),s.data("id",a).prepend('<p class="nameplate-alabes">'+o+"</p>").dialog("open")}else if(!$(this).find(".nostock").length&&$(this).find(".noavailable").length){var a=$(this).parent().attr("id"),o=$(this).find("h5").text();n.find(".nameplate-alabes").length>0&&$(".nameplate-alabes").remove(),n.data("id",a).prepend('<p class="nameplate-alabes">'+o+"</p>").dialog("open")}else if(!$(this).find(".nostock").length&&!$(this).find(".noavailable").length){var a=$(this).parent().attr("id"),o=$(this).find("h5").text();d.find(".nameplate-alabes").length>0&&$(".nameplate-alabes").remove(),d.data("id",a).prepend('<p class="nameplate-alabes">'+o+"</p>").dialog("open")}}),$("#nostockalabes .setnostock").on("click",function(){var a=n.data("id");$.ajax({method:"POST",url:"programador.php",data:{nostockalabe:a}}).done(function(){n.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#noavailablenostockalabes .setnostock").on("click",function(){var a=d.data("id");$.ajax({method:"POST",url:"programador.php",data:{nostockalabe:a}}).done(function(){d.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#noavailablealabes .setnoavailable").on("click",function(){var a=s.data("id");$.ajax({method:"POST",url:"programador.php",data:{noavailablealabe:a}}).done(function(){s.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#noavailablenostockalabes .setnoavailable").on("click",function(){var a=d.data("id");$.ajax({method:"POST",url:"programador.php",data:{noavailablealabe:a}}).done(function(){d.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})});var l=$("#sistockalabes"),p=$("#siavailablealabes");l.dialog({title:"Agregar stock",autoOpen:!1,modal:!0,minWidth:400}),p.dialog({title:"Agregar disponibles para producción",autoOpen:!1,modal:!0,minWidth:400}),$("body").on("click",".alabe .nostock",function(a){a.stopPropagation();var o=$(this).closest(".row").attr("id"),e=$(this).parent().find("h5").text();l.find(".nameplate-alabes").length>0&&$(".nameplate-alabes").remove(),l.data("id",o).prepend('<p class="nameplate-alabes">'+e+"</p>").dialog("open")}),$("body").on("click",".alabe .noavailable",function(a){a.stopPropagation();var o=$(this).closest(".row").attr("id"),e=$(this).parent().find("h5").text();p.find(".nameplate-alabes").length>0&&$(".nameplate-alabes").remove(),p.data("id",o).prepend('<p class="nameplate-alabes">'+e+"</p>").dialog("open")}),$("#sistockalabes .setstock").on("click",function(){var a=l.data("id");$.ajax({method:"POST",url:"programador.php",data:{sistockalabes:a}}).done(function(){l.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#siavailablealabes .setavailable").on("click",function(){var a=p.data("id");$.ajax({method:"POST",url:"programador.php",data:{siavailablealabes:a}}).done(function(){p.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})});var c=$("#nostockdisco"),u=$("#noavailabledisco"),h=$("#noavailablenostockdisco");$("#nostockdisco").dialog({title:"Sin stock de disco",autoOpen:!1,minWidth:500,modal:!0}),$("#noavailabledisco").dialog({title:"Disco no suministrable",autoOpen:!1,minWidth:500,modal:!0}),$("#noavailablenostockdisco").dialog({title:"Disco no suministrable o sin stock",autoOpen:!1,minWidth:500,modal:!0}),$("body").on("click",".disco",function(){if($(this).find(".nostock").length&&!$(this).find(".noavailable").length){var a=$(this).parent().attr("id"),o=$(this).find("h5").text();u.find(".nameplate-disco").length>0&&$(".nameplate-disco").remove(),u.data("id",a).prepend('<p class="nameplate-disco">'+o+"</p>").dialog("open")}else if(!$(this).find(".nostock").length&&$(this).find(".noavailable").length){var a=$(this).parent().attr("id"),o=$(this).find("h5").text();c.find(".nameplate-disco").length>0&&$(".nameplate-disco").remove(),c.data("id",a).prepend('<p class="nameplate-disco">'+o+"</p>").dialog("open")}else if(!$(this).find(".nostock").length&&!$(this).find(".noavailable").length){var a=$(this).parent().attr("id"),o=$(this).find("h5").text();h.find(".nameplate-disco").length>0&&$(".nameplate-disco").remove(),h.data("id",a).prepend('<p class="nameplate-disco">'+o+"</p>").dialog("open")}}),$("#nostockdisco .setnostock").on("click",function(){var a=c.data("id");$.ajax({method:"POST",url:"programador.php",data:{nostockdisco:a}}).done(function(){c.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#noavailablenostockdisco .setnostock").on("click",function(){var a=h.data("id");$.ajax({method:"POST",url:"programador.php",data:{nostockdisco:a}}).done(function(){h.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#noavailabledisco .setnoavailable").on("click",function(){var a=u.data("id");$.ajax({method:"POST",url:"programador.php",data:{noavailabledisco:a}}).done(function(){u.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#noavailablenostockdisco .setnoavailable").on("click",function(){var a=h.data("id");$.ajax({method:"POST",url:"programador.php",data:{noavailabledisco:a}}).done(function(){h.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})});var m=$("#sistockdisco"),g=$("#siavailabledisco");m.dialog({title:"Agregar disco a stock",autoOpen:!1,modal:!0,minWidth:400}),g.dialog({title:"Agregar disco disponible para producción",autoOpen:!1,modal:!0,minWidth:400}),$("body").on("click",".disco .nostock",function(a){a.stopPropagation();var o=$(this).closest(".row").attr("id"),e=$(this).parent().find("h5").text();m.find(".nameplate-disco").length>0&&$(".nameplate-disco").remove(),m.data("id",o).prepend('<p class="nameplate-disco">'+e+"</p>").dialog("open")}),$("body").on("click",".disco .noavailable",function(a){a.stopPropagation();var o=$(this).closest(".row").attr("id"),e=$(this).parent().find("h5").text();g.find(".nameplate-disco").length>0&&$(".nameplate-disco").remove(),g.data("id",o).prepend('<p class="nameplate-disco">'+e+"</p>").dialog("open")}),$("#sistockdisco .setstock").on("click",function(){var a=m.data("id");$.ajax({method:"POST",url:"programador.php",data:{sistockdisco:a}}).done(function(){m.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})}),$("#siavailabledisco .setavailable").on("click",function(){var a=g.data("id");$.ajax({method:"POST",url:"programador.php",data:{siavailabledisco:a}}).done(function(){g.dialog("close"),$(".resultados").load("programador.php",{todos:"true"})})});$("#dialogtodas");$("#dialogtodas").dialog({title:"Añadir todas las etapas",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){t(),$("#add").dialog("close"),$(this).dialog("close")},CANCELAR:function(){$(this).dialog("close")}}});var b=$("#yasuministrado");b.dialog({title:"Eliminar parte suministrada",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close");var a=$(this).data("id"),o=$(this).data("nameplate"),e=$(this).data("etapa");$("#borrarprograma").find(".etapaborrar").remove().end().prepend('<p class="etapaborrar">'+o+" "+e+"</p>").data("id",a).dialog("open"),$("#borrarprograma").dialog("open")},CANCELAR:function(){$(this).dialog("close")}}}),$(".closenostock").on("click",function(){$("#nostockalabes, #noavailablealabes, #nostockdisco, #noavailabledisco, #sistockalabes, #sistockdisco, #siavailabledisco, #siavailablealabes, #noavailablenostockdisco, #noavailablenostockalabes").dialog("close")});var b=$("#yasuministrado");b.dialog({title:"Eliminar parte suministrada",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close");var a=$(this).data("id"),o=$(this).data("nameplate"),e=$(this).data("etapa");$("#borrarprograma").find(".etapaborrar").remove().end().prepend('<p class="etapaborrar">'+o+" "+e+"</p>").data("id",a).dialog("open"),$("#borrarprograma").dialog("open")},CANCELAR:function(){$(this).dialog("close")}}}),$("#quitarsuministro").dialog({title:"Eliminar pieza de suministro",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close");var a=$(this).data("id"),e=($(this).data("nameplate"),$(this).data("parte")),t=$(this).find('input[name="optionsRadios"]:checked').val();/alabes/i.test(e)?o(a,"alabes",t):o(a,"disco",t)},CANCELAR:function(){$(this).dialog("close")}}}),$("#yaexiste").dialog({title:"Eliminar pieza de suministro",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close")}}}),$("form.dialog-programador").on("submit",function(a){return!1}),$("form.subir-faltantes").on("submit",function(a){return!1}),$("#subir-faltantes").on("click",function(){$("#modal-excel").modal("show"),$(".subir-faltantes").submit(function(){return $(this).ajaxSubmit({resetForm:!0,success:function(a){$("#modal-excel").modal("hide"),$(".resultados").load("programador.php",{todos:"true"}),$(".fechas").load("programador.php",{fechasfaltantes:!0})},url:"subirexcel.php",type:"POST"}),!1})}),$(".nolink").tooltip(),$("body").on("click","#sidebar-toggler",function(a){a.preventDefault(),$("#sidebar-wrapper").attr("id","sidebar-wrapper-toggled"),$("#wrapper").attr("id","wrapper-toggled"),$(".sidebar-nav").attr("id","sidebar-nav-toggled"),$("#wrapper-contents").prepend('<button class="btn btn-default show-sidebar"><i class="fa fa-bars" aria-hidden="true"></i></button>')}),$("body").on("click",".limpiar-programador",function(a){a.preventDefault(),$(".dialog-programador").trigger("reset")}),$("body").on("click",".show-sidebar",function(a){a.preventDefault(),$("#wrapper-contents").remove(".show-sidebar"),$("#sidebar-wrapper-toggled").attr("id","sidebar-wrapper"),$("#wrapper-toggled").attr("id","wrapper"),$(".sidebar-nav").removeAttr("id")})})}});