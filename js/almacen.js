!function(a){function e(s){if(i[s])return i[s].exports;var t=i[s]={i:s,l:!1,exports:{}};return a[s].call(t.exports,t,t.exports,e),t.l=!0,t.exports}var i={};e.m=a,e.c=i,e.i=function(a){return a},e.d=function(a,i,s){e.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(i,"a",i),i},e.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},e.p="",e(e.s=0)}([function(a,e){$(document).ready(function(){function a(){e(),i(),s(),l(),r(),c(),b(),f(),g()}function e(){$(".resultadosdiscos").load("almacen.php",{alldiscos:"true"})}function i(){$(".resultadosalabes").load("almacen.php",{allalabes:"true"})}function s(){$(".resultadosngvs").load("almacen.php",{allngvs:"true"})}function t(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var e=$(this).attr("href"),i=$(this).closest(".discos").find(".ocupadadisco").length,s=$(this).closest(".discos").find(".buffercurvicos .btn").length,t=!!$(this).closest("tr").find('img[src="img/discocurvico.png"]').length,n=$(this).closest("tr").find("td:eq(0)").text(),r=$(this).closest("tr").find("td:eq(1)").text().substring(6),c=$.trim(r);i<8||t?t&&!s<1?$("#buffer-discos-curvico-lleno").modal("show"):$.ajax({method:"POST",url:"almacen.php",data:{suministrardisco:!0,id:e,nameplate:n,etapa:c},dataType:"json"}).done(function(a){$(".resultadosdiscos").load("almacen.php",{alldiscos:"true"}),l()}):$("#buffer-discos-lleno").modal("show")}function n(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var e=$(this).closest(".ngvs").find(".ocupadangv").length,i=$(this).attr("href");i=$.trim(i),e<8?$.ajax({method:"POST",url:"almacen.php",data:{suministrarngv:!0,id:i},dataType:"json"}).done(function(a){$(".resultadosngvs").load("almacen.php",{allngvs:"true"}),c()}):$("#buffer-ngvs-lleno").modal("show")}function l(){$.ajax({method:"POST",url:"almacen.php",data:{bufferdiscos:!0},dataType:"json"}).done(function(a){g();var e=a.length;0===e?$(".bufferdiscos, .buffercurvicos").empty().html('<div class="alert alert-danger">VACIO</div>'):($(".buffercurvicos").children().not(".row").remove(),$(".bufferdiscos").empty().html(function(){for(var i="",s=/^D/i,t=/^H/i,n=/^M/i,l=/^X/i,r=/^U/i,c=/^Y/i,o=/^N/i,d=0;d<e;d++)s.test(a[d].nameplate)?3==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-t700" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-t700" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":t.test(a[d].nameplate)?4==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-success" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-success" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":l.test(a[d].nameplate)?5==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-warning" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-warning" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":c.test(a[d].nameplate)?5==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-97k" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-97k" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":o.test(a[d].nameplate)?5==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-ten" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-ten" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":r.test(a[d].nameplate)?5==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-t7000" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-t7000" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":n.test(a[d].nameplate)?5==a[d].disco_piezas_id_pieza?$(".buffercurvicos").prepend('<button class="ocupadadisco btn btn-danger" id="'+a[d].id+'"><img src="img/curvicos.png"></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>"):i+='<button class="ocupadadisco btn btn-danger" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>":i+='<button class="ocupadadisco btn btn-default" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i></br><small>LP'+a[d].disco_piezas_id_pieza+" "+a[d].nameplate+"</small></button>";return i}))})}function r(){$.ajax({method:"POST",url:"almacen.php",data:{bufferalabes:!0},dataType:"json"}).done(function(a){g(),0===a.length?$(".bufferalabes").empty().html('<div class="alert alert-danger">VACIO</div>'):($(".bufferalabescurvicos").children().not(".row").remove(),$(".bufferalabes").empty().html(function(){for(var e="",i=/^D/i,s=/^H/i,t=/^M/i,n=/^X/i,l=/^U/i,r=/^Y/i,c=/^N/i,o=0;o<a.length;o++){var d;switch(parseInt(a[o].alabe_piezas_id_pieza)){case 46:d="LP1";break;case 47:d="LP2";break;case 48:d="LP3";break;case 49:d="LP4";break;case 50:d="LP5";break;case 51:d="LP6"}i.test(a[o].nameplate)?"LP3"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-t700" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-t700" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":s.test(a[o].nameplate)?"LP4"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-success" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-success" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":t.test(a[o].nameplate)?"LP5"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-danger" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-danger" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":l.test(a[o].nameplate)?"LP5"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-t7000" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-t7000" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":c.test(a[o].nameplate)?"LP5"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-ten" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-ten" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":n.test(a[o].nameplate)?"LP5"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-warning" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-warning" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":r.test(a[o].nameplate)?"LP5"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-97k" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-97k" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>":"LP5"==d?$(".bufferalabescurvicos").prepend('<button class="ocupadaalabes btn btn-default" id="'+a[o].id+'"><img src="img/curvicos.png"><br/><small>'+d+" "+a[o].nameplate+"</small></button>"):e+='<button class="ocupadaalabes btn btn-default" id="'+a[o].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+d+" "+a[o].nameplate+"</small></button>"}return e}))})}function c(){$.ajax({method:"POST",url:"almacen.php",data:{bufferngvs:!0},dataType:"json"}).done(function(a){g(),0===a.length?$(".bufferngvs").html('<div class="alert alert-danger">VACIO</div>'):$(".bufferngvs").empty().html(function(){for(var e="",i=/^D/i,s=/^H/i,t=/^M/i,n=/^X/i,l=/^U/i,r=/^Y/i,c=/^N/i,o=/^[JSRBYNPU]/i,d=0;d<a.length;d++)e+=i.test(a[d].nameplate)?'<button class="ocupadangv btn btn-t700" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":s.test(a[d].nameplate)?'<button class="ocupadangv btn btn-success" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":t.test(a[d].nameplate)?'<button class="ocupadangv btn btn-danger" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":n.test(a[d].nameplate)?'<button class="ocupadangv btn btn-warning" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":r.test(a[d].nameplate)?'<button class="ocupadangv btn btn-97k" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":c.test(a[d].nameplate)?'<button class="ocupadangv btn btn-ten" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":l.test(a[d].nameplate)?'<button class="ocupadangv btn btn-t7000" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":o.test(a[d].nameplate)?'<button class="ocupadangv btn btn-default" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>":'<button class="ocupadangv btn btn-success" id="'+a[d].id+'"><i class="fa fa-2x fa-archive" aria-hidden="true"></i><br/><small>'+a[d].etapa+" "+a[d].nameplate+"</small></button>";return e})})}function o(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var e=$(this).attr("href"),i=!!$(this).closest("tr").find('img[src="img/discocurvico.png"]').length,s=$(this).closest(".alabes").find(".ocupadaalabes").length,t=$(this).closest(".alabes").find(".bufferalabescurvicos .btn").length;s<8||i?i&&!t<1?$("#buffer-alabes-curvico-lleno").modal("show"):$.ajax({method:"POST",url:"almacen.php",data:{suministraralabe:!0,id:e}}).done(function(a){$(".resultadosalabes").load("almacen.php",{allalabes:"true"}),r()}):$("#buffer-alabes-lleno").modal("show")}function d(a){$.post("programador.php",{sistockalabes:a},function(){i()})}function p(a){$.post("programador.php",{sistockdisco:a},function(){e()})}function u(){$.post("almacen.php",{deshacerdisco:!0},function(){e(),l()})}function m(){$.post("almacen.php",{deshaceralabes:!0},function(){i(),r()})}function b(){$.post("almacen.php",{getsuministroslineaip:!0},function(a){var e=0;$(".suministros-ip").empty();for(var i=0;i<a.length;i++)switch(i){case 0:"no"!=a[0].nameplate?($(".suministros-ip").append('<li><img class="img-responsive" src="img/caseip.png" alt=""> CARCASA IP: <span class="si-requerido">'+a[0].nameplate+' </span><i class="fa fa-2x fa-check-circle-o suministrar-linea-ip" id="case_ip" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-ip").append('<li><img class="img-responsive" src="img/caseip.png" alt=""> CARCASA IP: <span class="no-requerido">NO REQUERIDA </span></li><li role="separator"></li><li class="divider"></li>');break;case 1:"no"!=a[1].nameplate?($(".suministros-ip").append('<li><img class="img-responsive" src="img/soporte.png" alt=""> SOPORTE HP/IP: <span class="si-requerido">'+a[1].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-ip" id="soporte" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-ip").append('<li><img class="img-responsive" src="img/soporte.png" alt=""> SOPORTE HP/IP: <span class="no-requerido">NO REQUERIDO </span></li><li role="separator" class="divider"></li>');break;case 2:"no"!=a[2].nameplate?($(".suministros-ip").append('<li><img class="img-responsive" src="img/ejediscoip.png" alt=""> EJE/DISCO IP: <span class="si-requerido">'+a[2].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-ip" id="escariado" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-ip").append('<li><img class="img-responsive" src="img/ejediscoip.png" alt=""> EJE/DISCO IP: <span class="no-requerido">NO REQUERIDOS </span></li><li role="separator" class="divider"></li>');break;case 3:"no"!=a[3].nameplate?($(".suministros-ip").append('<li><img class="img-responsive" src="img/ngvlp1.png" alt=""> NGVS LP1: <span class="si-requerido">'+a[3].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-ip" id="ngv_lp1" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-ip").append('<li><img class="img-responsive" src="img/ngvlp1.png" alt="">  NGVS LP1: <span class="no-requerido">NO REQUERIDOS </span></li><li role="separator" class="divider"></li>');break;case 4:"no"!=a[4].nameplate?($(".suministros-ip").append('<li><img class="img-responsive" src="img/ngvip.png" alt=""> NGVS IP: <span class="si-requerido">'+a[4].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-ip" id="ngv_ip" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-ip").append('<li><img class="img-responsive" src="img/ngvip.png" alt="">  NGVS IP: <span class="no-requerido">NO REQUERIDOS </span></li><li role="separator" class="divider"></li>');break;case 5:"no"!=a[5].nameplate?($(".suministros-ip").append('<li><img class="img-responsive" src="img/bladeip.png" alt=""> ÁLABES IP: <span class="si-requerido">'+a[5].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-ip" id="alabes_ip" aria-hidden="true"></i></li>'),e++):$(".suministros-ip").append('<li><img class="img-responsive" src="img/bladeip.png" alt=""> ÁLABES IP: <span class="no-requerido">NO REQUERIDOS </span></li>')}$("span.contador").length&&$(".btn-linea-ip i.fa, .btn-linea-ip span.contador").remove(),e>0?$(".btn-linea-ip").prepend('<span class="contador">'+e+'</span><i class="fa fa-bell" aria-hidden="true"></i>').removeClass("btn-success").addClass("btn-danger"):$(".btn-linea-ip").removeClass("btn-danger").addClass("btn-success")})}function f(){$.post("almacen.php",{getsuministroslinealp:!0},function(a){var e=0;$(".suministros-lp").empty();for(var i=0;i<a.length;i++)switch(i){case 0:"no"!=a[0].nameplate?($(".suministros-lp").append('<li><img class="img-responsive" src="img/ejelp.png" alt=""> EJE 08 LP: <span class="si-requerido">'+a[0].nameplate+' </span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-lp" id="eje_lp" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-lp").append('<li><img class="img-responsive" src="img/ejelp.png" alt=""> EJE 08 LP: <span class="no-requerido">NO REQUERIDO</span></li><li role="separator"></li><li class="divider"></li>');break;case 1:"no"!=a[1].nameplate?($(".suministros-lp").append('<li> <img class="img-responsive" src="img/tbh.png" alt=""> TBH: <span class="si-requerido">'+a[1].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-lp" id="tbh" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-lp").append('<li> <img class="img-responsive" src="img/tbh.png" alt=""> TBH: <span class="no-requerido">NO REQUERIDO </span></li><li role="separator" class="divider"></li>');break;case 2:"no"!=a[2].nameplate?($(".suministros-lp").append('<li><img class="img-responsive" src="img/caselp.png" alt=""> CARCASA 08: <span class="si-requerido">'+a[2].nameplate+'</span> <i class="fa fa-2x fa-check-circle-o suministrar-linea-lp" id="case_lp" aria-hidden="true"></i></li><li role="separator" class="divider"></li>'),e++):$(".suministros-lp").append('<li><img class="img-responsive" src="img/caselp.png" alt=""> CARCASA 08: <span class="no-requerido">NO REQUERIDA</span></li><li role="separator" class="divider"></li>')}$(".btn-integracion span.contador").length&&$(".btn-integracion i.fa, .btn-integracion span.contador").remove(),e>0?$(".btn-integracion").prepend('<span class="contador">'+e+'</span><i class="fa fa-bell" aria-hidden="true"></i>').removeClass("btn-success").addClass("btn-danger"):$(".btn-integracion").removeClass("btn-danger").addClass("btn-success")})}function g(){$.post("almacen.php",{checkbufferqty:1}).done(function(a){0==a.bufferqtydiscos||0==a.bufferqtyalabes||0==a.bufferalabescurvicos||0==a.buffercurvicos||0==a.bufferqtyngvs?($(".encabezado").length&&$(".encabezado").removeClass("encabezado").addClass("encabezado-danger"),0==a.buffercurvicos&&($(".buffercurvicos").children().not(".row").remove(),$(".buffercurvicos").prepend('<p class="text-center" style="color:#ff7272"><small>Cúrvicos vacío</small><i class="fa fa-2x fa-exclamation-triangle"></i></p>'),$(".btn-curvicos:eq(0)").length||$(".menu-almacen .btn-group:eq(0)").prepend('<button class="btn btn-danger btn-curvicos"><i class="fa fa-cog"></i> Cúrvicos</btn>')),0==a.bufferalabescurvicos&&($(".bufferalabescurvicos").children().not(".row").remove(),$(".bufferalabescurvicos").prepend('<p class="text-center" style="color:#ff7272"><small>Cúrvicos vacío</small><i class="fa fa-2x fa-exclamation-triangle"></i></p>'),$(".btn-curvicos:eq(0)").length||$(".menu-almacen .btn-group:eq(0)").prepend('<button class="btn btn-danger btn-curvicos"><i class="fa fa-cog"></i> Cúrvicos</btn>'))):($(".encabezado-danger").length&&$(".encabezado-danger").removeClass("encabezado-danger").addClass("encabezado"),$(".btn-curvicos").length&&$(".btn-curvicos").remove())})}a();var h=(setInterval(a,3e5),$("body"));h.on("click","a.suministraralabe",o),h.on("click","a.suministrardisco",t),h.on("click","a.suministrarngv",n),h.on("click","span.deshacer-discos",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,$(".deshacerDiscos").dialog("open")}),h.on("click","span.deshacer-alabes",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,$(".deshacerAlabes").dialog("open")}),h.on("click","tbody.resultadosalabes .fa-exclamation-circle",function(){var a=$(this).parent().parent().data("id"),e=$(this).parent().parent().find("td:eq(0)").text(),i=$(this).parent().parent().find("td:eq(1)").text();$(".setstockalabes").find("p:gt(0)").length&&$(".setstockalabes").find("p:gt(0)").remove(),$(".setstockalabes").data("id",a).append("<p>"+i+" "+e+"</p>").dialog("open")}),h.on("click","tbody.resultadosdiscos .fa-exclamation-circle",function(){var a=$(this).parent().parent().data("id"),e=$(this).parent().parent().find("td:eq(0)").text(),i=$(this).parent().parent().find("td:eq(1)").text();$(".setstockdiscos").find("p:gt(0)").length&&$(".setstockdiscos").find("p:gt(0)").remove(),$(".setstockdiscos").data("id",a).append("<p>"+i+" "+e+"</p>").dialog("open")}),$("span.adddisco").on("click",function(){$.ajax({method:"POST",url:"almacen.php",data:{addisco:1}}).done(function(){l()})}),$("span.addalabes").on("click",function(){$.ajax({method:"POST",url:"almacen.php",data:{addalabes:1}}).done(function(){r()})}),$("span.addngv").on("click",function(){$.ajax({method:"POST",url:"almacen.php",data:{addngv:1}}).done(function(){c()})}),$("body").on("click",".ocupadadisco",function(){var a=$(this).attr("id");$.ajax({method:"POST",url:"almacen.php",data:{removedisco:1,id:a}}).done(function(){l()})}),$("body").on("click",".ocupadaalabes",function(){var a=$(this).attr("id");$.ajax({method:"POST",url:"almacen.php",data:{removealabes:1,id:a}}).done(function(){r()})}),$("body").on("click",".ocupadangv",function(){var a=$(this).attr("id");$.ajax({method:"POST",url:"almacen.php",data:{removengv:1,id:a}}).done(function(){c()})}),$("button.refresh").on("click",function(){location.reload(!0)}),$("body").on("click",".suministrar-linea-ip",function(){var a=$(this).attr("id");$.post("almacen.php",{suministrarlineaip:1,parte:a}).done(function(){$(".suministros-ip").empty(),b()})}),$("body").on("click",".suministrar-linea-lp",function(){var a=$(this).attr("id");$.post("almacen.php",{suministrarlinealp:1,parte:a}).done(function(){$(".suministros-lp").empty(),f()})}),$(".bufferdiscoslleno").dialog({title:"Buffer discos lleno",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close")}}}),$(".bufferalabeslleno").dialog({title:"Buffer alabes lleno",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close")}}}),$(".bufferngvslleno").dialog({title:"Buffer NGVS lleno",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){$(this).dialog("close")}}}),$(".setstockalabes").dialog({title:"Poner en stock",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){d($(this).data("id")),$(this).dialog("close")}}}),$(".setstockdiscos").dialog({title:"Poner en stock",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){p($(this).data("id")),$(this).dialog("close")}}}),$(".deshacerDiscos").dialog({title:"Deshacer Suministro Discos",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){u(),$(this).dialog("close")},CANCELAR:function(){$(this).dialog("close")}}}),$(".deshacerAlabes").dialog({title:"Deshacer Suministro Alabes",autoOpen:!1,modal:!0,minWidth:400,buttons:{OK:function(){m(),$(this).dialog("close")},CANCELAR:function(){$(this).dialog("close")}}}),$(".nolink").tooltip()})}]);